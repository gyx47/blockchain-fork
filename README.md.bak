# æµ™å¤§å½©ç¥¨

> ç¬¬äºŒæ¬¡ä½œä¸šè¦æ±‚ï¼ˆä»¥ä¸‹å†…å®¹æäº¤æ—¶å¯ä»¥åˆ é™¤ï¼‰ï¼š
> 
> è¿›é˜¶çš„å»ä¸­å¿ƒåŒ–å½©ç¥¨ç³»ç»Ÿï¼Œå‚ä¸æ–¹åŒ…æ‹¬ï¼šç«çŒœç©å®¶ã€å…¬è¯äºº
>
> **èƒŒæ™¯**ï¼šä¼ ç»Ÿçš„ä½“è‚²å½©ç¥¨ç³»ç»Ÿï¼ˆä¾‹å¦‚æˆ‘å›½çš„ä½“è‚²å½©ç¥¨ï¼‰ä¸€èˆ¬æ²¡æœ‰å½©ç¥¨äº¤æ˜“åŠŸèƒ½ï¼šä¾‹å¦‚ï¼Œå¯¹äºâ€œNBAæœ¬èµ›å­£MVPä¸ºæŸçƒå‘˜/F1çš„èµ›å­£æ€»å† å†›ä¸ºæŸè½¦é˜Ÿâ€è¿™ç±»æŒç»­æ—¶é—´é•¿çš„äº‹ä»¶çš„ä¸‹æ³¨ä¸€èˆ¬åœ¨èµ›å­£å¼€å§‹å‰å°±ä¼šä¹°å®šç¦»æ‰‹ï¼Œè¿™ä½¿å¾—ä¸€æ—¦å‡ºç°çªå‘æˆ–ä¸ç¡®å®šäº‹ä»¶ï¼ˆå¦‚çƒå‘˜Aèµ›å­£æŠ¥é”€/çƒé˜ŸBä¹°å…¥å¼ºåŠ›çƒæ˜Ÿ/Cè½¦é˜Ÿè½¦æ‰‹å—ä¼¤ç­‰ï¼‰ï¼Œå¾ˆå¤šç©å®¶çš„é€‰æ‹©ä¾¿ä¼šç«‹å³å¤±å»æ„ä¹‰ï¼Œå¯¼è‡´å½©ç¥¨æ¸¸æˆçš„å¯ç©æ€§ä¸‹é™ã€‚å› æ­¤ï¼Œä¸€ä¸ªæœ‰è¶£çš„æ¢ç´¢æ–¹å‘æ˜¯è®©å½©ç¥¨ç³»ç»Ÿæ‹¥æœ‰åˆè§„ã€æ–¹ä¾¿çš„äº¤æ˜“åŠŸèƒ½ã€‚
>
> å»ºç«‹ä¸€ä¸ªè¿›é˜¶çš„å»ä¸­å¿ƒåŒ–å½©ç¥¨ç³»ç»Ÿï¼ˆå¯ä»¥æ˜¯ä½“è‚²å½©ç¥¨ï¼Œæˆ–å…¶å®ƒä»»ä½•æ¯”èµ›èŠ‚ç›®çš„ç«çŒœï¼Œä¾‹å¦‚ã€Šä¸­å›½å¥½å£°éŸ³ã€‹ã€Šæˆ‘æ˜¯æ­Œæ‰‹ã€‹å¹´åº¦æ€»å† å†›ç­‰ï¼Œå¯ä»¥å‚è€ƒ [Polymarket](./img/https://polymarket.com/) ï¼‰ï¼Œåœ¨ç½‘ç«™ä¸­ï¼š
> - å…¬è¯äººï¼ˆä½ è‡ªå·±ï¼‰å¯ä»¥åˆ›ç«‹è®¸å¤šç«çŒœé¡¹ç›®ï¼šä¾‹å¦‚æŸåœºæ¯”èµ›çš„è¾“èµ¢ã€å¹´åº¦æ€»å† å†›çš„å¾—ä¸»ç­‰ï¼Œæ¯ä¸ªé¡¹ç›®åº”å½“æœ‰2ä¸ªæˆ–å¤šä¸ªå¯èƒ½çš„é€‰é¡¹ï¼Œä¸€å®šçš„å½©ç¥¨æ€»é‡‘é¢ï¼ˆç”±å…¬è¯äººæä¾›ï¼‰ï¼Œä»¥åŠè§„å®šå¥½çš„ç»“æœå…¬å¸ƒæ—¶é—´ã€‚
> - ç©å®¶é¦–å…ˆé¢†å–åˆ°æµ‹è¯•æ‰€éœ€ä»¥å¤ªå¸ã€‚åœ¨ç½‘ç«™ä¸­ï¼Œå¯¹äºä¸€ä¸ªç«çŒœé¡¹ç›®å’Œå¤šä¸ªå¯èƒ½çš„é€‰é¡¹ï¼š
>   1. æ¯ä¸ªç«å½©ç©å®¶éƒ½å¯ä»¥é€‰æ‹©å…¶ä¸­çš„æŸä¸ªé€‰é¡¹å¹¶è´­ä¹°ä¸€å®šé‡‘é¢ï¼ˆè‡ªå·±å®šä¹‰ï¼‰çš„å½©ç¥¨ï¼Œè´­ä¹°åè¯¥ç©å®¶ä¼šè·å¾—ä¸€å¼ å¯¹åº”çš„å½©ç¥¨å‡­è¯ï¼ˆä¸€ä¸ª ERC721 åˆçº¦ä¸­çš„ Tokenï¼‰
>   2. åœ¨ç«å½©ç»“æœå…¬å¸ƒä¹‹å‰ï¼Œä»»ä½•ç©å®¶ä¹‹é—´å¯ä»¥ä¹°å–ä»–ä»¬çš„å½©ç¥¨ï¼Œä»¥åº”å¯¹é¡¹ç›®è¿›è¡ŒæœŸé—´çš„ä»»ä½•çªå‘çŠ¶å†µã€‚å…·ä½“çš„ä¹°å–æœºåˆ¶å¦‚ä¸‹ï¼šä¸€ä¸ªç©å®¶å¯ä»¥ä»¥æŒ‡å®šçš„é‡‘é¢æŒ‚å•å‡ºå”®ï¼ˆERC721 Delegateï¼‰è‡ªå·±çš„å½©ç¥¨ï¼Œå…¶å®ƒç©å®¶å¦‚æœè§‰å¾—è¯¥å½©ç¥¨æœ‰åˆ©å¯å›¾å°±å¯ä»¥ä¹°å…¥ä»–çš„å½©ç¥¨ã€‚åŒæ–¹å®Œæˆä¸€æ¬¡ ERC721 Token äº¤æ˜“ã€‚
>   3. å…¬è¯äººå¯ä»¥åœ¨æ—¶é—´æˆªæ­¢æ—¶ï¼ˆç®€å•èµ·è§ï¼Œä½ å¯ä»¥éšæ—¶ç»ˆæ­¢é¡¹ç›®ï¼‰è¾“å…¥ç«çŒœçš„ç»“æœå¹¶è¿›è¡Œç»“ç®—ã€‚æ‰€æœ‰èƒœåˆ©çš„ç©å®¶å¯ä»¥å¹³åˆ†å¥–æ± ä¸­çš„é‡‘é¢ã€‚
> - Bonusï¼ˆæœ€å¤š5åˆ†ï¼Œè‹¥æƒ³è¦å®Œæˆï¼Œå¯ä»¥ç›´æ¥å°†åŠŸèƒ½æ•´åˆè¿›ä¸Šè¿°è¦æ±‚ä¸­ï¼‰ï¼š
>   1. ï¼ˆ2åˆ†ï¼‰å‘è¡Œä¸€ä¸ª ERC20 åˆçº¦ï¼Œå…è®¸ç”¨æˆ·é¢†å– ERC20 ç§¯åˆ†ï¼Œå¹¶ä½¿ç”¨ERC20ç§¯åˆ†å®Œæˆä¸Šè¿°æµç¨‹ã€‚
>   2. ï¼ˆ3åˆ†ï¼‰å¯¹äº¤æ˜“å½©ç¥¨çš„è¿‡ç¨‹å®ç°ä¸€ä¸ªç®€å•çš„é“¾ä¸Šè®¢å•ç°¿ï¼šå–æ–¹ç”¨æˆ·å¯ä»¥ä»¥ä¸åŒä»·æ ¼å‡ºå”®ä¸€ç§å½©ç¥¨ï¼Œç½‘é¡µä¸Šæ˜¾ç¤ºå½“å‰è®¢å•ç°¿çš„ä¿¡æ¯ï¼ˆå¤šå°‘ä»·æ ¼æœ‰å¤šå°‘è¯¥å½©ç¥¨æ­£åœ¨å‡ºå”®ï¼‰ã€‚å…¶ä»–ç”¨æˆ·å¯ä»¥æ ¹æ®æœ€ä¼˜ä»·æ ¼è´­ä¹°å½©ç¥¨ã€‚
> - å¯ä»¥å¯¹ä¸Šè¿°éœ€æ±‚è¿›è¡Œåˆç†æ›´æ”¹å’Œè¯´æ˜ã€‚è¯·å¤§å®¶ä¸“æ³¨äºåŠŸèƒ½å®ç°ï¼Œç½‘ç«™UIç¾è§‚ç¨‹åº¦ä¸çº³å…¥è¯„åˆ†æ ‡å‡†ï¼Œèƒ½è®©ç”¨æˆ·èƒ½å¤Ÿèˆ’é€‚æ“ä½œå³å¯ã€‚

## å¦‚ä½•è¿è¡Œ

**æ­¥éª¤**:

1. **å¯åŠ¨æœ¬åœ°åŒºå—é“¾**:
  
  - æ‰“å¼€ Ganache åº”ç”¨ï¼Œ Quickstartã€‚
  - æŠŠRPC Server åœ°å€ æ”¹æˆ http://127.0.0.1:8545ã€‚å¤åˆ¶åœ°å€å’Œå…¶ä¸­ä¸€ä¸ªè´¦æˆ·çš„ Private Keyï¼ˆç”¨äºéƒ¨ç½²åˆçº¦å’Œä½œä¸ºå…¬è¯äººï¼‰ã€‚
2. **é…ç½® Hardhat**:
  - ä¿®æ”¹ hardhat.config.ts æ–‡ä»¶ï¼š
    - æŠŠnetworks.ganache.url å¤åˆ¶ä¸ºGanache RPC Server åœ°å€ã€‚
    - æŠŠ networks.ganache.accounts æ•°ç»„ä¸­çš„ç§é’¥æ›¿æ¢ä¸ºä» Ganache å¤åˆ¶çš„è´¦æˆ·ç§é’¥ã€‚
3. **å®‰è£…åˆçº¦ä¾èµ–**:
  - åœ¨ ./contracts ç›®å½•ä¸‹è¿è¡Œ:  
    `npm install`  è¿™é‡Œé‡åˆ°äº†é—®é¢˜ï¼Œé»˜è®¤å®‰è£…çš„@openzeppelin/contractsç‰ˆæœ¬æ˜¯é”™çš„ï¼Œå¾ˆå¤šåŒ…ä¼šæ‰¾ä¸åˆ°ï¼Œæ‰€ä»¥æ‰‹åŠ¨intallä¸€ä¸ªç‰ˆæœ¬ã€‚è¿˜æœ‰åé¢importçš„etherä¹Ÿéœ€è¦è‡ªå·±å®‰è£…@5ç‰ˆæœ¬ã€‚
4. **ç¼–è¯‘åˆçº¦**:
  
  - åœ¨ ./contracts ç›®å½•ä¸‹è¿è¡Œ:  
    `npx hardhat compile`
    
  - ç¼–è¯‘æˆåŠŸåï¼Œåœ¨ contracts/artifacts/contracts/EasyBet.sol/ ç›®å½•ä¸‹ç”Ÿæˆ ABI æ–‡ä»¶ (EasyBet.json)ã€‚
    
5. **éƒ¨ç½²åˆçº¦**:
  
  - åœ¨ ./contracts ç›®å½•ä¸‹è¿è¡Œ (ç¡®ä¿ Ganache æ­£åœ¨è¿è¡Œ):  
    `npx hardhat run scripts/deploy.ts \--network ganache`
    
  - éƒ¨ç½²æˆåŠŸåï¼Œç»ˆç«¯ä¼šè¾“å‡ºåˆçº¦éƒ¨ç½²åˆ°çš„åœ°å€ã€‚**å¤åˆ¶è¿™ä¸ªåœ°å€**ã€‚
    
6. **é…ç½®å‰ç«¯**:
  
  - è¿›å…¥ ./frontend ç›®å½•ã€‚
  - æ‰“å¼€ src/App.jsx æ–‡ä»¶ã€‚
  - æ‰¾åˆ° const contractAddress = "(ç°åœ¨æ˜¯æˆ‘çš„åˆçº¦åœ°å€)"; è¿™ä¸€è¡Œã€‚
  - å°† "(ç°åœ¨æ˜¯æˆ‘çš„åˆçº¦åœ°å€)" æ›¿æ¢ä¸ºä½ ä¸Šä¸€æ­¥å¤åˆ¶çš„åˆçº¦åœ°å€ã€‚
  -  æ‰¾åˆ° const contractABI= [] ã€‚å°† ./contracts/artifacts/contracts/EasyBet.sol/EasyBet.json æ–‡ä»¶ä¸­çš„ abi æ•°ç»„å†…å®¹å¤åˆ¶å¹¶æ›¿æ¢æ‰ App.jsx ä¸­çš„ [] éƒ¨åˆ†ã€‚
7. **å®‰è£…å‰ç«¯ä¾èµ–**: 
  - åœ¨ ./frontend ç›®å½•ä¸‹è¿è¡Œ:  
    npm install  
8. **å¯åŠ¨å‰ç«¯åº”ç”¨**:
  - åœ¨ ./frontend ç›®å½•ä¸‹è¿è¡Œ:  
    npm start  
  - åº”ç”¨å°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ ( http://localhost:3000)ã€‚
    
9. **é…ç½® MetaMask**:
  
  - ç¡®ä¿ MetaMask å·²å®‰è£…å¹¶è§£é”ã€‚
  - å°† MetaMask ç½‘ç»œåˆ‡æ¢åˆ° Ganache æä¾›çš„æœ¬åœ°ç½‘ç»œ (ä½¿ç”¨ Ganache çš„ RPC URL,ä¹Ÿå°±æ˜¯http:localhost:8545)ã€‚
  - å¯¼å…¥ Ganache è´¦æˆ·ï¼šåœ¨ MetaMask ä¸­ï¼Œç‚¹å‡»è´¦æˆ·å¤´åƒ \-\> Import Accountï¼Œç²˜è´´ Ganache ä¸­æŸä¸ªè´¦æˆ·çš„ Private Key (å»ºè®®å¯¼å…¥éƒ¨ç½²åˆçº¦çš„è´¦æˆ·ä½œä¸ºå…¬è¯äººï¼Œå†å¯¼å…¥å¦ä¸€ä¸ªè´¦æˆ·ä½œä¸ºæ™®é€šç©å®¶)ã€‚
10. **ä½¿ç”¨ DApp**:
  
  - åˆ·æ–°å‰ç«¯é¡µé¢ã€‚
  - ç‚¹å‡» "Connect Wallet" è¿æ¥ MetaMaskã€‚
  - å¦‚æœè¿æ¥çš„æ˜¯éƒ¨ç½²åˆçº¦çš„è´¦æˆ·ï¼ˆå…¬è¯äººï¼‰ï¼Œå°†çœ‹åˆ° "Notary Actions" éƒ¨åˆ†ï¼Œå¯ä»¥åˆ›å»ºå’Œç»“ç®—æ´»åŠ¨,ä¹Ÿå¯ä»¥è´­ä¹°å½©ç¥¨ï¼ŒæŒ‚å•ï¼Œè´­ä¹°ä»–äººæŒ‚å•çš„å½©ç¥¨å’Œé¢†å–å¥–é‡‘ã€‚
  - åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå¯¼å…¥çš„ Ganache è´¦æˆ·ï¼ˆç©å®¶ï¼‰ï¼Œä½ å¯ä»¥è´­ä¹°å½©ç¥¨ã€æŒ‚å•ã€è´­ä¹°ä»–äººæŒ‚å•çš„å½©ç¥¨ä»¥åŠé¢†å–å¥–é‡‘ã€‚


11. å…·ä½“çš„ä½¿ç”¨æµç¨‹è¯·çœ‹é¡¹ç›®è¿è¡Œæˆªå›¾éƒ¨åˆ†


## åŠŸèƒ½å®ç°åˆ†æ(å«è®¢å•ç°¿ Bonus +3)

- **é¡¹ç›®åˆ›å»º (createActivity)**: å…¬è¯äººè°ƒç”¨æ­¤å‡½æ•°ï¼Œä¼ å…¥æè¿°ã€é€‰é¡¹æ•°ç»„ã€ç»“æŸæ—¶é—´æˆ³ï¼Œå¹¶å‘é€ ETH ä½œä¸ºåˆå§‹å¥–æ± ã€‚åˆçº¦è®°å½•é¡¹ç›®ä¿¡æ¯ã€‚
  
- **å½©ç¥¨è´­ä¹° (buyTicket)**: ç©å®¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œä¼ å…¥é¡¹ç›® IDã€é€‰é¡¹ç´¢å¼•ï¼Œå¹¶å‘é€ ETH ä½œä¸ºè´­ä¹°é‡‘é¢ã€‚åˆçº¦é“¸é€ ä¸€ä¸ª ERC721 Token ç»™ç©å®¶ï¼Œè®°å½•æŠ•æ³¨ä¿¡æ¯ï¼Œå¹¶å°† ETH åŠ å…¥å¥–æ± ã€‚
  
- **å½©ç¥¨äº¤æ˜“**:
  
  - **æŒ‚å• (listTicket)**: ç©å®¶å…ˆè°ƒç”¨ ERC721 çš„ approve (é€šè¿‡å‰ç«¯è§¦å‘) æˆæƒåˆçº¦è½¬ç§» NFTï¼Œç„¶åè°ƒç”¨ listTicket è®¾ç½®ä»·æ ¼ï¼Œåˆçº¦è®°å½•æŒ‚å•ä¿¡æ¯ã€‚
  - **å–æ¶ˆæŒ‚å• (cancelListing)**: å–å®¶è°ƒç”¨æ­¤å‡½æ•°å–æ¶ˆæŒ‚å•ã€‚
  - **è´­ä¹° (buyListedTicket)**: ä¹°å®¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œå‘é€æŒ‡å®šä»·æ ¼çš„ ETHã€‚åˆçº¦éªŒè¯æ”¯ä»˜é‡‘é¢ï¼Œè°ƒç”¨ ERC721 çš„ transferFrom è½¬ç§» NFTï¼Œå¹¶å°† ETH è½¬ç»™å–å®¶ã€‚
- **é¡¹ç›®ç»“ç®— (settleActivity)**: å…¬è¯äººè°ƒç”¨æ­¤å‡½æ•°ï¼Œä¼ å…¥é¡¹ç›® ID å’Œè·èƒœé€‰é¡¹ç´¢å¼•ã€‚åˆçº¦æ ‡è®°é¡¹ç›®å·²ç»“æŸå¹¶è®°å½•ç»“æœã€‚
  
- **å¥–é‡‘é¢†å– (claimWinnings)**: è·èƒœç©å®¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œä¼ å…¥å…¶æŒæœ‰çš„è·èƒœå½©ç¥¨ Token IDã€‚åˆçº¦éªŒè¯æ¡ä»¶ï¼Œè®¡ç®—å¥–é‡‘ï¼ˆåŸºäºæŠ•æ³¨é¢æ¯”ä¾‹ï¼‰ï¼Œå¹¶å°† ETH è½¬ç»™ç©å®¶ã€‚å¥–é‡‘è®¡ç®—ç›®å‰åœ¨ claimWinnings ä¸­è¿›è¡Œï¼ˆä¸ºäº†ç®€åŒ–éƒ¨ç½²ï¼Œä½†æ•ˆç‡ä¸é«˜ï¼‰ï¼Œç†æƒ³æƒ…å†µä¸‹åº”åœ¨ç»“ç®—æ—¶ä¸€æ¬¡æ€§è®¡ç®—æˆ–åœ¨è´­ä¹°æ—¶ç´¯ç§¯è®°å½•è·èƒœæŠ•æ³¨æ€»é¢ã€‚

- **è®¢å•ç°¿å®ç° (Bonus 2):**
- é“¾ä¸Š: åˆçº¦ä¿æŒç®€å•ï¼Œåªå­˜å‚¨å•ä¸ª tokenId çš„æŒ‚å•ä¿¡æ¯ (listings mapping)ï¼ŒåŒ…å«å–å®¶åœ°å€å’Œ ETH ä»·æ ¼ã€‚

- é“¾ä¸‹ (å‰ç«¯ App.tsx):

    - fetchData å‡½æ•°ä¼šè°ƒç”¨ contract.totalSupply() è·å–æ€»ç¥¨æ•°ã€‚
    ç„¶åå®ƒä¼šå¾ªç¯ï¼ˆä» i = 0 åˆ° totalSupply - 1ï¼‰ï¼Œå¯¹æ¯ä¸ªç´¢å¼•è°ƒç”¨contract.tokenByIndex(i) æ¥è·å– tokenIdã€‚å¯¹æ¯ä¸ª tokenIdï¼Œå®ƒä¼šå¹¶è¡Œè·å– ownerOf, getListing, å’Œ getTicketInfoã€‚
    - å‰ç«¯è¿‡æ»¤å‡ºæ‰€æœ‰æ´»è·ƒçš„ã€éå½“å‰ç”¨æˆ·æ‹¥æœ‰çš„æŒ‚å•ï¼Œå¹¶å°†å®ƒä»¬æ”¶é›†åˆ°ä¸€ä¸ªä¸´æ—¶æ•°ç»„ allListings ä¸­ã€‚æ¥ç€ï¼Œä»£ç å¤„ç† allListings æ•°ç»„ï¼šæŒ‰ activityId å’Œ optionIndex åˆ†ç»„ã€‚åœ¨æ¯ä¸ªé€‰é¡¹ç»„å†…ï¼ŒæŒ‰ price (ETH ä»·æ ¼) å†æ¬¡åˆ†ç»„ã€‚ç»Ÿè®¡æ¯ä¸ªä»·æ ¼å±‚çº§æœ‰å¤šå°‘ä¸ª tokenId å¯ä¾›è´­ä¹°ã€‚æœ€ç»ˆæ„å»ºå‡ºä¸€ä¸ªåµŒå¥—çš„ orderBooks çŠ¶æ€å˜é‡ï¼Œå¹¶æ¸²æŸ“åˆ° "Order Books" æ ä¸­ã€‚
    - è´­ä¹°: å½“ç”¨æˆ·ç‚¹å‡» "Buy Cheapest" æ—¶ï¼Œå‰ç«¯ä¼šä» orderBooks çŠ¶æ€ä¸­å–å‡ºè¯¥ä»·æ ¼å±‚çº§çš„ tokenIds åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ª tokenIdï¼Œç„¶åè°ƒç”¨ handleBuyFromOrderBook å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šè§¦å‘ buyListedTicket(tokenId, { value: price }) äº¤æ˜“ã€‚
- **ERC721**: ä½¿ç”¨ Ownable (æ§åˆ¶å…¬è¯äººæƒé™) å’Œ ReentrancyGuard (é˜²æ­¢é‡å…¥æ”»å‡»)ã€‚
## é¡¹ç›®è¿è¡Œæˆªå›¾
é˜¶æ®µä¸€ï¼šé“¾çš„éƒ¨ç½²

æ‰“å¼€Ganache
![alt text](./img/1.png)
ä¿®æ”¹åœ°å€
![alt text](./img/9c385e4687e7643dd04dda272d75d5d0.png)
ä¿®æ”¹ hardhat.config.ts æ–‡ä»¶ï¼š
    - æŠŠnetworks.ganache.url å¤åˆ¶ä¸ºGanache RPC Server åœ°å€ã€‚
    - æŠŠ networks.ganache.accounts æ•°ç»„ä¸­çš„ç§é’¥æ›¿æ¢ä¸ºä» Ganache å¤åˆ¶çš„è´¦æˆ·ç§é’¥ã€‚
![alt text](./img/84eacb20-0d24-4854-9b4b-6a1420810197.png)
**ç¼–è¯‘åˆçº¦**:
  
  - åœ¨ ./contracts ç›®å½•ä¸‹è¿è¡Œ:  
    `npx hardhat compile`
    
  - ç¼–è¯‘æˆåŠŸåï¼Œåœ¨ contracts/artifacts/contracts/EasyBet.sol/ ç›®å½•ä¸‹ç”Ÿæˆ ABI æ–‡ä»¶ (EasyBet.json)ã€‚
    ![alt text](./img/5a4537930515293547fcc5a138744f8c.png)
**éƒ¨ç½²åˆçº¦**:
  
  - åœ¨ ./contracts ç›®å½•ä¸‹è¿è¡Œ (ç¡®ä¿ Ganache æ­£åœ¨è¿è¡Œ):  
    `npx hardhat run scripts/deploy.ts \--network ganache`
  - éƒ¨ç½²æˆåŠŸåï¼Œç»ˆç«¯ä¼šè¾“å‡ºåˆçº¦éƒ¨ç½²åˆ°çš„åœ°å€ã€‚**å¤åˆ¶è¿™ä¸ªåœ°å€**ã€‚
  - ![alt text](./img/d6acdee5920fbe1f42740b2bc6682d16.png)
å¹¶ä¸”å¯ä»¥çœ‹åˆ°åŒºå—
![alt text](./img/b2764837fa67ef60a0020278aad46f5d.png)
1. **é…ç½®å‰ç«¯**:
  
  - è¿›å…¥ ./frontend ç›®å½•ã€‚
  - æ‰“å¼€ src/App.jsx æ–‡ä»¶ã€‚
  - æ‰¾åˆ° const contractAddress = "(ç°åœ¨æ˜¯æˆ‘çš„åˆçº¦åœ°å€)"; è¿™ä¸€è¡Œã€‚
  - å°† "(ç°åœ¨æ˜¯æˆ‘çš„åˆçº¦åœ°å€)" æ›¿æ¢ä¸ºä½ ä¸Šä¸€æ­¥å¤åˆ¶çš„åˆçº¦åœ°å€ã€‚
  - **(é‡è¦)** æ‰¾åˆ° const contractABI = [...]ã€‚å°† ./contracts/artifacts/contracts/EasyBet.sol/EasyBet.json æ–‡ä»¶ä¸­çš„ abi æ•°ç»„å†…å®¹å¤åˆ¶å¹¶æ›¿æ¢æ‰ App.jsx ä¸­çš„ [...] éƒ¨åˆ†ã€‚
![alt text](./img/aa41bbfd-13d4-4fb4-9f5a-6f1bb6b2d7af.png)
2. **å¯åŠ¨å‰ç«¯åº”ç”¨**:
  - åœ¨ ./frontend ç›®å½•ä¸‹è¿è¡Œ:  
    npm start  
    ![alt text](./img/2a73a068-d80a-49d9-8014-4176a49ea0f0.png)
    ![alt text](./img/b1841d68-dc7d-45ce-9f8d-272b69cc4e68.png)
  - åº”ç”¨å°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ ( http://localhost:3000)ã€‚
    
**é…ç½® MetaMask**:
æµè§ˆå™¨æ‰“å¼€åMetaMaskä¼šè‡ªåŠ¨å¼¹å‡ºã€‚é¦–å…ˆè¦ç™»å½•ã€‚
å°† MetaMask ç½‘ç»œåˆ‡æ¢åˆ° Ganache æä¾›çš„æœ¬åœ°ç½‘ç»œ (ä½¿ç”¨ Ganache çš„ RPC URL,ä¹Ÿå°±æ˜¯http:localhost:8545)ã€‚
![alt text](./img/a9af33d0e5ece4819493b04a0e3a25ab.png)
![alt text](./img/9e3d29add25621ffd107152cf543bdb0.png)
![alt text](./img/c6b8f140c5546eb578f38b5b4d5d50aa.png)
![alt text](./img/9039f3a238489438e9131d23563db3b5.png)
å¯¼å…¥ Ganache è´¦æˆ·ï¼šåœ¨ MetaMask ä¸­ï¼Œç‚¹å‡»è´¦æˆ·å¤´åƒ \-\> Import Accountï¼Œç²˜è´´ Ganache ä¸­è´¦æˆ·çš„ Private Key (å…¬è¯äººè´¦æˆ·å’Œå‡ ä¸ªæ™®é€šç©å®¶)ã€‚
![alt text](./img/c4cd6f16-afb8-494d-b18a-c343c5eb947a.png)

åœ¨å¼¹å‡ºçš„å°ç‹ç‹¸æ’ä»¶ç‚¹å‡»è¿æ¥åˆ°localhost:3000
![alt text](./img/42cc546216123e9c20bea0d1e79a722e.png)
åœ¨èµ·å§‹é¡µé¢ç‚¹å‡»connect wallet
![alt text](./img/04026841-3d85-4fbb-b61b-20e34d9d2ed9.png)
é˜¶æ®µäºŒï¼šå…¬è¯äººåˆ›å»ºç«çŒœ

å…ˆç”¨å…¬è¯äººè¿æ¥ï¼Œè¿æ¥æˆåŠŸåï¼Œçœ‹åˆ°ï¼ˆNotaryï¼‰å’Œé»„è‰²çš„ "ğŸ”‘ Notary Actions" æ¨¡å—ï¼Œè¿™è¯æ˜è¢«è¯†åˆ«ä¸ºå…¬è¯äººã€‚
![alt text](./img/188b98c022c77aaaabe3cfdd4a317f3c.png)
![alt text](./img/e7abbe04b5e074a78799c11d45e3457e.png)

1. åˆ›å»ºæ´»åŠ¨ï¼š
åœ¨ "â• Create New Activity" è¡¨å•ä¸­å¡«å†™Descriptionï¼ŒOptionsï¼ˆé€—å·éš”å¼€ï¼‰ï¼ŒEnd Timeï¼ˆä¸èƒ½æ¯”å½“å‰æ—¶é—´å°ï¼‰ï¼ŒInitial Pool (ETH)
![alt text](./img/d347a6e4c7d61fffaa941115ce57de25.png)
ç‚¹å‡» "Create Activity" æŒ‰é’®ï¼Œå¹¶åœ¨ MetaMask ä¸­ç‚¹å‡»ç¡®è®¤äº¤æ˜“ã€‚
äº¤æ˜“ç¡®è®¤åï¼Œåˆ›å»ºçš„æ´»åŠ¨ä¼šç«‹å³å‡ºç°åœ¨å·¦ä¾§çš„ "ğŸ° Available Activities" åˆ—è¡¨ä¸­ï¼ŒçŠ¶æ€ä¸º "Active"ã€‚
![alt text](./img/08de3e67-9880-4c87-a99d-37cd7f7e3b09.png)
åŒæ—¶åœ¨ganacheäº§ç”Ÿäº¤æ˜“åŒºå—
![alt text](./img/b16573f2333176f62a72dd94014b41e0.png)
1. ç©å®¶ A è´­ä¹°å½©ç¥¨
åˆ‡æ¢è´¦æˆ·ï¼šæ‰“å¼€ MetaMaskï¼Œåˆ‡æ¢åˆ°è´¦æˆ·2ï¼ˆç©å®¶Aï¼‰ã€‚
![alt text](./img/2b972006-618c-46f8-bd73-69aea435d209.png)
è·å–æµ‹è¯•ETHï¼šï¼ˆå¦‚æœè¿™ä¸ªè´¦æˆ·æ²¡é’±ï¼‰ç‚¹å‡» "Get 1 Local Test ETH" æŒ‰é’®ï¼Œè·å–ä¸€äº›æµ‹è¯•ç”¨çš„ ETHã€‚

åœ¨ "ğŸ›’ Buy Ticket" è¡¨å•ä¸­å¡«å†™ctivity IDï¼ŒOption Indexï¼ŒAmount (ETH)
ç‚¹å‡» "Buy Ticket" æŒ‰é’®ï¼Œå¹¶åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“
![alt text](./img/cd40c739e5ab26a67529c9c52d92837d.png)
æŸ¥çœ‹ç»“æœï¼šäº¤æ˜“ç¡®è®¤åï¼š
![alt text](./img/b74574619af194c0f2513b140d1db19a.png)
"Available Activities" åˆ—è¡¨ä¸­çš„å¥–æ± é‡‘é¢ï¼ˆPoolï¼‰ä¼šå¢åŠ ã€‚
![alt text](./img/d9f48bfebd9d175aac096c821250fe9f.png)
"ğŸŸï¸ My Tickets (NFTs)" åˆ—è¡¨ä¸­ä¼šå‡ºç°ä¸€å¼ æ–°çš„å½©ç¥¨ï¼ˆä¾‹å¦‚ Token ID: 1ï¼‰
![alt text](./img/1e99a8a10a8ea63662e8ac8f687ce8f5.png)
3. ç©å®¶ A å‡ºå”®å½©ç¥¨ï¼ˆäº¤æ˜“åŠŸèƒ½ï¼‰
æŒ‚å•ï¼š
åœ¨ "ğŸ·ï¸ List Ticket for Sale" è¡¨å•ä¸­å¡«å†™Token ID to List: ä¹°çš„å½©ç¥¨ IDï¼Œ
Price (ETH):å¸Œæœ›çš„å–å‡ºä»·æ ¼ã€‚
![alt text](./img/c89797de1cd2e710c86b3f2eeb66235f.png)
ç‚¹å‡» "Approve & List Ticket" æŒ‰é’®ã€‚
ç¡®è®¤äº¤æ˜“ï¼š
MetaMask ä¼šå¼¹å‡ºä¸¤æ¬¡äº¤æ˜“ç¡®è®¤ï¼š
ç¬¬ä¸€æ¬¡ï¼ˆApproveï¼‰ï¼šæˆæƒåˆçº¦å¯ä»¥è½¬ç§»ä½ çš„è¿™å¼  NFT å½©ç¥¨ã€‚
![alt text](./img/c55f89b61af756183d97a99ebd7ff95c.png)
ç¬¬äºŒæ¬¡ï¼ˆListTicketï¼‰ï¼šæ­£å¼å°†å½©ç¥¨æŒ‚å•ã€‚
![alt text](./img/ce5366d56da4c3d64e8967caf2197be0.png)
æŸ¥çœ‹ç»“æœï¼š
"My Tickets" åˆ—è¡¨ä¸­çš„å½©ç¥¨ä¼šæ˜¾ç¤º "Listed for: å¤šå°‘ ETH"ã€‚è€Œä¸”ä¼šå‡ºç°ä¸€ä¸ªcancelæŒ‰é’®ï¼Œç‚¹å‡»äº†å°±ä¼šå–æ¶ˆæŒ‚å•
![alt text](./img/1444dacbce17de7b6bf48379b8ea9e3f.png)
åœ¨ "ğŸ›’ Marketplace" åˆ—è¡¨ä¸­ä¹Ÿä¼šå‡ºç°è¿™å¼ å½©ç¥¨ã€‚
![alt text](./img/60a993c94fd712b2f0a1ea9a83c8a8dd.png)
4. ç©å®¶ B è´­ä¹°å½©ç¥¨
åˆ‡æ¢è´¦æˆ·ï¼šæ‰“å¼€ MetaMaskï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªè´¦æˆ·
è´­ä¹°æŒ‚å•ï¼š

åœ¨ "ğŸ›’ order books (sell orders)" åˆ—è¡¨ä¸­æ‰¾åˆ°ç©å®¶AæŒ‚å•çš„å½©ç¥¨ã€‚Order Books" åŒºåŸŸåº”è¯¥èƒ½çœ‹åˆ°è´¦æˆ·AæŒ‚å•çš„å½©ç¥¨ï¼ŒæŒ‰æ´»åŠ¨ã€é€‰é¡¹å’Œä»·æ ¼æ±‡æ€»æ˜¾ç¤ºã€‚ä¸ºäº†èƒ½çœ‹æ¸…æ•´ä¸ªè®¢å•ç°¿çš„ç»“æ„æˆ‘å¤šæŒ‚äº†å‡ å¼ 
![alt text](./img/440959cc64028b1329f0a423a39be2f3.png)
å¯ä»¥çœ‹åˆ°æ¯ä¸ªå½©ç¥¨é€‰é¡¹éƒ½æ˜¯åˆ†å¼€æŒ‚å•çš„ã€‚åŒæ—¶ä¸€ä¸ªå½©ç¥¨é€‰é¡¹ä¼šåˆ†æˆä¸åŒçš„ä»·ä½ï¼Œæ¯ä¸ªä»·ä½ä¸‹æœ‰æ‰€æœ‰è¯¥ä»·ä½å½©ç¥¨çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å–å®¶å’Œå½©ç¥¨é‡‘é¢ã€‚ç‚¹å‡»Buy firstçš„æ—¶å€™ä¼šè‡ªåŠ¨è´­ä¹°åŒä¸€ä»·ä½ä¸‹ä»£è¡¨é‡‘é¢æœ€é«˜çš„é‚£ä¸€å¼ å½©ç¥¨ã€‚

å‡å¦‚æƒ³å•ç‹¬è´­ä¹°ä¹Ÿå¯ä»¥åœ¨è¯¦ç»†ä¿¡æ¯ä¸‹é¢é€‰æ‹©Buy Pay ETH.
MetaMask ä¼šå¼¹å‡ºäº¤æ˜“ç¡®è®¤ï¼Œè¦æ±‚ä½ æ”¯ä»˜æŒ‚å•çš„ä»·æ ¼(è¿™é‡Œç”¨buy firståšä¾‹å­)
![alt text](./img/20c3e028e2607ffb934b03ca657b81cd.png)
30ä»·ä½çš„é“¶ç°æœ‰3å¼ ï¼Œåˆ†åˆ«ä¹°äº†1,15ï¼Œ5ETHï¼Œæˆ‘æƒ³è¦ä»£è¡¨é‡‘é¢æœ€å¤šçš„ä¸€å¼ 
äº¤æ˜“ç¡®è®¤åï¼š
"ğŸ›’ order books (sell orders)" ä¸­çš„å½©ç¥¨æ¶ˆå¤±äº†ã€‚
![alt text](./img/842c8461800259c90bc9707dc41eda4e.png)
ç©å®¶Bï¼ˆå½“å‰è´¦æˆ·ï¼‰ï¼š"My Tickets" åˆ—è¡¨ä¸­å‡ºç°äº†è¿™å¼ å½©ç¥¨ï¼ˆToken ID: 12ï¼‰ã€‚
![alt text](./img/44ad4ab4a350a93ab11a90d093c3e1e7.png)
åˆ‡æ¢å›ä¸Šä¸€ä¸ªç”¨æˆ·ï¼Œå‘ç°12å·å½©ç¥¨å·²ç»æ¶ˆå¤±äº†
![alt text](./img/9cba5a2a6dadf515f152cd8728bdd219.png)
ganacheé‡Œå¤šå‡ºä¸€ç¬”äº¤æ˜“
![alt text](./img/6158d84567ee11f303f5137d92499d46.png)
5. å…¬è¯äººç»“ç®—å¹¶é¢†å–å¥–é‡‘
æ‰“å¼€ MetaMaskï¼Œåˆ‡æ¢å›è´¦æˆ·1ï¼ˆå…¬è¯äººï¼‰ã€‚
åœ¨ "ğŸ Settle Activity" è¡¨å•ä¸­ï¼š
![alt text](./img/2c52aac748878c56fe513bc506ffbc9f.png)
å¡«å†™Activity IDï¼ŒWinning Optionã€‚
ç‚¹å‡» "Settle Activity" æŒ‰é’®ï¼Œå¹¶åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“ã€‚

æŸ¥çœ‹ç»“æœï¼š
"Available Activities" åˆ—è¡¨ä¸­çš„æ´»åŠ¨çŠ¶æ€å˜ä¸º "Settled (Winner: 0)"ã€‚
![alt text](./img/350c226bfb36eef1a2fba69db197dfd2.png)
åˆ‡æ¢è´¦æˆ·å¹¶é¢†å¥–ï¼š
æ‰“å¼€ MetaMaskï¼Œåˆ‡æ¢åˆ°è´¦æˆ·Bï¼ˆå› ä¸ºä»–ç°åœ¨æ˜¯å½©ç¥¨çš„æŒæœ‰è€…ï¼‰ã€‚
![alt text](./img/a28ab8552067a492d8c213a293e1cc63.png)
åœ¨ "My Tickets" åˆ—è¡¨ä¸­ï¼Œä¼šçœ‹åˆ°å½©ç¥¨æ˜¾ç¤ºä¸º "WINNER"ï¼Œå¹¶ä¸”å‡ºç°äº†ä¸€ä¸ª "Claim Winnings" æŒ‰é’®ã€‚æ²¡ä¸­å¥–çš„åˆ™æ˜¾ç¤ºä¸º"LOST"
ç‚¹å‡» "Claim Winnings" æŒ‰é’®ï¼Œå¹¶åœ¨ MetaMask ä¸­ç¡®è®¤äº¤æ˜“ã€‚
![alt text](./img/53d092ed90caad446ec7011b2998d309.png)
äº¤æ˜“ç¡®è®¤åï¼Œç©å®¶Bçš„é’±åŒ…ä¼šæ”¶åˆ°å¥–æ± é‡Œçš„æŒ‰è´­ä¹°é‡‘é¢æ¯”ä¾‹åˆ†é…çš„å¥–é‡‘ã€‚å½©ç¥¨çŠ¶æ€æ›´æ–°ä¸º "WINNER (Claimed)"ã€‚
![alt text](./img/11d548e1c9bc840c4ce5dffa9f536f29.png)
![alt text](./img/287d15c9b6d1ecd17d1a287a32a737bc.png)
![alt text](./img/d53ebee281932deb1601e0e8edccdc04.png)
## å‚è€ƒå†…å®¹

- è¯¾ç¨‹çš„å‚è€ƒDemoï¼š[DEMOs](./img/https://github.com/LBruyne/blockchain-course-demos)ã€‚

- å¿«é€Ÿå®ç° ERC721 [æ¨¡ç‰ˆ](./img/https://wizard.openzeppelin.com/#erc20)ã€‚